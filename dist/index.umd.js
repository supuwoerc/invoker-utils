!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).supuwoerc=e.supuwoerc||{},e.supuwoerc.min=e.supuwoerc.min||{},e.supuwoerc.min.js={}))}(this,(function(e){"use strict";function t(e,t){return e.classList.contains(t)}function n(e){return Object.prototype.toString.call(e)}function r(e=window.location.href){const t=new URL(e);return new URLSearchParams(t.search)}class o{storage;prefix="";constructor(e){e?.prefix&&(this.prefix=e.prefix),this.storage=window.localStorage}set(e,t){const n=this.getKey(e),r=o.stringify(t);this.storage.setItem(n,r)}get(e){const t=this.getKey(e),n=this.storage.getItem(t);return n?o.parse(n):null}remove(e){this.storage.removeItem(this.getKey(e))}clear(){this.storage.clear()}getKey(e){if(this.prefix){return[...[].concat(this.prefix),e].join("_")}return e}static stringify(e){return JSON.stringify(e)}static parse(e){return JSON.parse(e)}}function i(){const{userAgent:e}=navigator;return!/Mobile|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)}function c(e,t,n){var r,o=n||{},i=o.noTrailing,c=void 0!==i&&i,s=o.noLeading,u=void 0!==s&&s,a=o.debounceMode,f=void 0===a?void 0:a,l=!1,d=0;function p(){r&&clearTimeout(r)}function g(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var s=this,a=Date.now()-d;function g(){d=Date.now(),t.apply(s,o)}function m(){r=void 0}l||(u||!f||r||g(),p(),void 0===f&&a>e?u?(d=Date.now(),c||(r=setTimeout(f?m:g,e))):g():!0!==c&&(r=setTimeout(f?m:g,void 0===f?e-a:e)))}return g.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;p(),l=!n},g}e.Storage=o,e.addClass=function(e,n){t(e,n)||e.classList.add(n)},e.array2Tree=function(e,t="children",n="id",r="pid",o=""){const i=new Map,c=[];return e.forEach((e=>{const s=e[n],u=e[r],a={...e,[t]:i.get(s)?.[t]??[]};if(i.set(s,a),u!==o&&u){i.get(u)||i.set(u,{[t]:[]});const e=i.get(u);e&&e[t].push(a)}else c.push(a)})),c},e.clearAllCookie=function(){const e=document.cookie.split(";");for(let t=0;t<e.length;t+=1){const n=e[t],r=n.indexOf("="),o=r>-1?n.substr(0,r):n;document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`}},e.debounce=function(e,t,n){var r=(n||{}).atBegin;return c(e,t,{debounceMode:!1!==(void 0!==r&&r)})},e.ensurePrefix=function(e,t){return t.startsWith(e)?t:e+t},e.ensureSuffix=function(e,t){return t.endsWith(e)?t:t+e},e.generateUUID=function(){if("object"==typeof crypto){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();if("function"==typeof crypto.getRandomValues&&"function"==typeof Uint8Array){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>{const t=Number(e);return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))}}let e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(n=>{let r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:3&r|8).toString(16)}))},e.getArrayItem=function(e,t){const{length:n}=e;let r=t;if(!(n<=0))return t<0&&(r+=n),e[r]},e.getCookie=function(e){const t=document.cookie.split(";").find((t=>{const[n]=t.split("=");return n.trim()===e}));if(t){const[,e]=t.split("=");return decodeURIComponent(e.trim())}return null},e.getElementSelector=function(e){if(!(e instanceof Element))throw new Error("The type of parameter node is incorrect");let t=e;const n=[];for(;t&&t.nodeType===Node.ELEMENT_NODE;){let e=t.nodeName.toLowerCase();if(t.id){e=`${e}#${t.id}`,n.unshift(e);break}{let n=t,r=1;for(n=n.previousElementSibling;n;)n.nodeName.toLowerCase()===e&&(r+=1),n=n.previousElementSibling;const o=t.nodeName.toLowerCase(),i=t.previousElementSibling?.nodeName.toLowerCase()===o,c=t.nextElementSibling?.nodeName.toLowerCase()===o,s=i||c;t!==document.body&&s&&(e=`${e}:nth-of-type(${r})`)}n.unshift(e),t=t.parentNode}return n.join(" > ")},e.getParents=function(e,t,n="id",r="children",o=((e,t)=>e===t)){const i=[],c=e=>{if(o(e[n],t))return i.push(e),!0;const s=e[r];if(s&&Array.isArray(s))for(const t of s)if(c(t))return i.push(e),!0;return!1};for(const t of e)if(c(t))return i.reverse();return[]},e.getQueryParam=function(e,t=window.location.href){return r(t).get(e)},e.getQueryParams=r,e.getTargetFromTree=function e(t,n,r="id",o=((e,t)=>e===t),i="children"){if(!Array.isArray(t))return null;for(const c of t){if(o(c[r],n))return c;if(c[i]){const t=e(c[i],n,r,o);if(t)return t}}return null},e.hasClass=t,e.isBoolean=function(e){return"boolean"==typeof e},e.isDate=function(e){return"[object Date]"===n(e)},e.isDefined=function(e){return void 0!==e},e.isFunction=function(e){return"function"==typeof e},e.isHttpOrHttps=function(e){return e.startsWith("http://")||e.startsWith("https://")},e.isMobile=function(){return!i()},e.isNull=function(e){return"[object Null]"===n(e)},e.isNumber=function(e){return"number"==typeof e},e.isObject=function(e){return"[object Object]"===n(e)},e.isPc=i,e.isRegExp=function(e){return"[object RegExp]"===n(e)},e.isString=function(e){return"string"==typeof e},e.isSupportFontFamily=function(e){if("string"!=typeof e)throw new Error("argument is not a string");const t="Arial";if(e.toLowerCase()===t.toLowerCase())return!0;const n=100,r=100,o=document.createElement("canvas"),i=o.getContext("2d");function c(e){i.clearRect(0,0,n,r),i.font=`100px ${e}, ${t}`,i.fillText("a",50,50);const o=i.getImageData(0,0,n,r).data;return[].slice.call(o).filter((e=>0!==e))}return o.width=n,o.height=r,i.textAlign="center",i.fillStyle="black",i.textBaseline="middle",c(t).join("")!==c(e).join("")},e.isUndefined=function(e){return"[object Undefined]"===n(e)},e.moveArrayItem=function(e,t,n){if(t<0||t>=e.length||n<0||n>=e.length)throw new Error("Invalid index");const r=e.splice(t,1)[0];e.splice(n,0,r)},e.removeArrayItem=function(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)},e.removeClass=function(e,n){t(e,n)&&e.classList.remove(n)},e.saveFile=function(e,t,n="application/octet-stream;charset=utf-8"){const r=new Blob([e],{type:n}),o=document.createElement("a");o.href=URL.createObjectURL(r),o.download=t,o.click(),URL.revokeObjectURL(o.href)},e.setCookie=function(e,t,n){const r=new Date;r.setTime((new Date).getTime()+n);const o=encodeURIComponent(t)+(n?`; expires=${r.toUTCString()}`:"");document.cookie=`${e}=${o}`},e.swapArrayItem=function(e,t,n){if(t<0||t>=e.length||n<0||n>=e.length)throw new Error("Invalid index");[e[t],e[n]]=[e[n],e[t]]},e.throttle=c,e.toString=n,e.tree2Array=function e(t,n="children"){return t.reduce(((t,r)=>{const o=r[n];return t.concat(r,e(o??[],n))}),[])},e.uniq=function(e){return Array.from(new Set(e))},e.uniqueBy=function(e,t){return e.reduce(((e,n)=>(-1===e.findIndex((e=>t(e,n)))&&e.push(n),e)),[])}}));
